<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Listado de Personas</title>
    {% load static %} <!-- Cargar la biblioteca de etiquetas estáticas -->
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/estilos.css' %}">
</head>
<body>
<div class="container mt-5">
    <h2 class="mb-4 text-center text-white">Listado de Personas</h2>

    <div class="d-flex justify-content-center mb-4">
        <a href="{% url 'personas_list' %}?tipo_persona=cliente" class="btn btn-outline-light mx-2">Clientes</a>
        <a href="{% url 'personas_list' %}?tipo_persona=proveedor" class="btn btn-outline-light mx-2">Proveedores</a>
        <a href="{% url 'personas_list' %}" class="btn btn-outline-light mx-2">Todos</a>
    </div>

    {% if messages %}
    <div class="alert alert-success" role="alert">
        {% for message in messages %}
        {{ message }}
        {% endfor %}
    </div>
    {% endif %}

    <a href="{% url 'persona_form' %}" class="btn btn-primary mb-3">Añadir persona</a>

    <table class="table table-striped table-dark table-hover">
        <thead>
            <tr>
                <th class="text-center">ID</th>
                <th class="text-center">Nombre</th>
                <th class="text-center">Apellido</th>
                <th class="text-center">Correo</th>
                <th class="text-center">Tipo de Persona</th>
                <th class="text-center">Estado</th>
                <th class="text-center">Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for persona in personas %}
            <tr>
                <td class="text-center">{{ persona.cod_per }}</td>
                <td class="text-center">{{ persona.nom_per }}</td>
                <td class="text-center">{{ persona.ape_per }}</td>
                <td class="text-center">{{ persona.cor_per }}</td>
                <td class="text-center">{{ persona.fky_tip_per }}</td>
                <td class="text-center">{{ persona.est_per }}</td>
                <td class="text-center">
                    <a href="{% url 'personas_update' persona.cod_per %}" <button type="button" class="btn btn-success">Modificar</button></a>
                    <a href="{% url 'personas_delete' persona.cod_per %}"<button type="button" class="btn btn-danger">Eliminar</button></a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="7">No se encontraron personas.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="d-flex justify-content-center">
        <a href="{% url 'home' %}" class="btn btn-secondary w-25">Volver</a>
    </div>
</div>
        <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
        <script src="{% static 'js/validaciones.js' %}"></script>
</body>
</html>